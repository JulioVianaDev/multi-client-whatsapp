### WhatsApp Bridge API Examples
### This file contains examples for all API endpoints

### ========================================
### INSTANCE MANAGEMENT
### ========================================

### 1. Create a new WhatsApp instance
POST http://localhost:4444/instance/create
Content-Type: application/json

###

### 2. Connect an instance (replace {instance_key} with actual key)
POST http://localhost:4444/instance/connect
Content-Type: application/json

{
  "instance_key": "f744b809555fbdfa217aa79f857e3c14"
}

###

### 3. Get QR code for an instance (replace {instance_key})
GET http://localhost:4444/instance/f744b809555fbdfa217aa79f857e3c14/qr

###

### 4. Check instance status (replace {instance_key})
GET http://localhost:4444/instance/d16f13e303743ac61ec80821f4fc2c9e/status

###

### 5. List all instances
GET http://localhost:4444/instances

###

### 6. Disconnect an instance (replace {instance_key})
POST http://localhost:4444/instance/abc123def456/disconnect
Content-Type: application/json

###

### ========================================
### PHONE NUMBER VALIDATION (Brazilian Numbers)
### ========================================

### 7. Validate Brazilian phone number without 9 digits (auto-adds 9)
POST http://localhost:4444/phone/validate
Content-Type: application/json

{
  "instance_key": "f744b809555fbdfa217aa79f857e3c14",
  "phone": "551288053918"
}

###554191968071

### 8. Validate Brazilian phone number with 9 digits
POST http://localhost:4444/phone/validate
Content-Type: application/json

{
  "instance_key": "f744b809555fbdfa217aa79f857e3c14",
  "phone": "5512988053918"
}

###

### 9. Validate landline number (no 9-digit modification)
POST http://localhost:4444/phone/validate
Content-Type: application/json

{
  "instance_key": "f744b809555fbdfa217aa79f857e3c14",
  "phone": "551288053918"
}

###

### 10. Validate number with @s.whatsapp.net suffix
POST http://localhost:4444/phone/validate
Content-Type: application/json

{
  "instance_key": "f744b809555fbdfa217aa79f857e3c14",
  "phone": "551288053918@s.whatsapp.net"
}

###

### 11. Validate non-Brazilian number
POST http://localhost:4444/phone/validate
Content-Type: application/json

{
  "instance_key": "abc123def456",
  "phone": "1234567890"
}

###

### 12. Convert LID to phone number
POST http://localhost:4444/phone/lid-to-phone
Content-Type: application/json

{
  "instance_key": "f744b809555fbdfa217aa79f857e3c14",
  "lid": "251496138592474@lid"
}

###

### 13. Convert LID to phone number (another example)
POST http://localhost:4444/phone/lid-to-phone
Content-Type: application/json

{
  "instance_key": "a7303c48718185883626ec88a92606ae",
  "lid": "85766302642309@lid"
}

###

### ========================================
### MESSAGE SENDING (Go Service)
### ========================================

### 14. Send text message via Go service (with auto-validation)
POST http://localhost:4444/message/send
Content-Type: application/json

{
  "instance_key": "f744b809555fbdfa217aa79f857e3c14",
  "phone": "554191968071",
  "message": "Teste com correÃ§Ã£o de nÃºmero de atomatado! ðŸ‡§ðŸ‡·",
  "reply_to": ""
}

###

### 15. Send text message with 9-digit number
POST http://localhost:4444/message/send
Content-Type: application/json

{
  "instance_key": "bbf38a27a0e76ea8da2c5b4af67d139b",
  "phone": "551288053918",
  "message": "Hello from WhatsApp with correct 9-digit number! ðŸ“±",
  "reply_to": ""
}

###

### 16. Send image message via Go service (with auto-validation)
POST http://localhost:4444/message/send-media
Content-Type: application/json

{
  "instance_key": "abc123def456",
  "phone": "551288053918",
  "url": "https://picsum.photos/400/300",
  "type": "image",
  "caption": "Check out this beautiful image! ðŸ“¸"
}

###

### 17. Send audio message via Go service
POST http://localhost:4444/message/send-media
Content-Type: application/json

{
  "instance_key": "abc123def456",
  "phone": "1234567890@s.whatsapp.net",
  "url": "https://www.soundjay.com/misc/sounds/bell-ringing-05.wav",
  "type": "audio"
}

###

### 18. Send video message via Go service
POST http://localhost:4444/message/send-media
Content-Type: application/json

{
  "instance_key": "abc123def456",
  "phone": "1234567890@s.whatsapp.net",
  "url": "https://sample-videos.com/zip/10/mp4/SampleVideo_1280x720_1mb.mp4",
  "type": "video",
  "caption": "Check out this video! ðŸŽ¥"
}

###

### 19. Send document/file via Go service
POST http://localhost:4444/message/send-media
Content-Type: application/json

{
  "instance_key": "abc123def456",
  "phone": "1234567890@s.whatsapp.net",
  "url": "https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",
  "type": "file"
}

###

### 20. Send contact via Go service
POST http://localhost:4444/message/send-contact
Content-Type: application/json

{
  "instance_key": "34f9808f029b2651764376cab09f8913",
  "phone": "16174658484@s.whatsapp.net",
  "contact_name": "Tomate",
  "contact_phone": "5512988053918@s.whatsapp.net"
}

###

### 21. Send voice recording via Go service
POST http://localhost:4444/message/send-voice
Content-Type: application/json

{
  "instance_key": "2bf67527efcda4665c9b12c80b2c3bb4",
  "phone": "16174658484@s.whatsapp.net",
  "url": "https://base3.easychannel.online/assets/medias/attendances/9df40033-1a07-4a9b-9ab8-138d2daea67a.mp3"
}

###

### 22. Send audio file (not voice recording) via Go service
POST http://localhost:4444/message/send-media
Content-Type: application/json

{
  "instance_key": "2bf67527efcda4665c9b12c80b2c3bb4",
  "phone": "16174658484@s.whatsapp.net",
  "url": "https://base3.easychannel.online/assets/medias/attendances/9df40033-1a07-4a9b-9ab8-138d2daea67a.mp3",
  "type": "audio",
  "is_ptt": false
}

###

### 23. Send voice recording as audio with PTT flag via Go service
POST http://localhost:4444/message/send-media
Content-Type: application/json

{
  "instance_key": "34f9808f029b2651764376cab09f8913",
  "phone": "16174658484@s.whatsapp.net",
  "url": "https://example.com/voice.ogg",
  "type": "audio",
  "is_ptt": true
}

###

### 24. Send location via Go service
POST http://localhost:4444/message/send-location
Content-Type: application/json

{
  "instance_key": "378bf5331efb1f295922c9de2a9e3fba",
  "phone": "16174658484@s.whatsapp.net",
  "latitude": -23.5505,
  "longitude": -46.6333
}

###

### ========================================
### NODE.JS PROXY ENDPOINTS
### ========================================

### 19. Send text message via Node.js proxy
POST http://localhost:5555/message/send
Content-Type: application/json

{
  "instance_key": "abc123def456",
  "phone": "1234567890@s.whatsapp.net",
  "message": "Hello from Node.js proxy! ðŸ”„",
  "reply_to": "optional_message_id_to_reply_to"
}

###

### 20. Send image message via Node.js proxy
POST http://localhost:5555/message/send-media
Content-Type: application/json

{
  "instance_key": "abc123def456",
  "phone": "1234567890@s.whatsapp.net",
  "url": "https://picsum.photos/400/300",
  "type": "image",
  "caption": "Image sent via Node.js proxy! ðŸ“¸"
}

###

### 21. Send audio message via Node.js proxy
POST http://localhost:5555/message/send-media
Content-Type: application/json

{
  "instance_key": "abc123def456",
  "phone": "1234567890@s.whatsapp.net",
  "url": "https://www.soundjay.com/misc/sounds/bell-ringing-05.wav",
  "type": "audio"
}

###

### 22. Send video message via Node.js proxy
POST http://localhost:5555/message/send-media
Content-Type: application/json

{
  "instance_key": "abc123def456",
  "phone": "1234567890@s.whatsapp.net",
  "url": "https://sample-videos.com/zip/10/mp4/SampleVideo_1280x720_1mb.mp4",
  "type": "video",
  "caption": "Video sent via Node.js proxy! ðŸŽ¥"
}

###

### 23. Send document/file via Node.js proxy
POST http://localhost:5555/message/send-media
Content-Type: application/json

{
  "instance_key": "abc123def456",
  "phone": "1234567890@s.whatsapp.net",
  "url": "https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",
  "type": "file"
}

###

### 24. Send contact via Node.js proxy
POST http://localhost:5555/message/send-contact
Content-Type: application/json

{
  "instance_key": "abc123def456",
  "phone": "1234567890@s.whatsapp.net",
  "contact_name": "Jane Smith",
  "contact_phone": "5551234567@s.whatsapp.net"
}

###

### 25. Send voice recording via Node.js proxy
POST http://localhost:5555/message/send-voice
Content-Type: application/json

{
  "instance_key": "abc123def456",
  "phone": "1234567890@s.whatsapp.net",
  "url": "https://example.com/voice.ogg"
}

###

### 26. Send location via Node.js proxy
POST http://localhost:5555/message/send-location
Content-Type: application/json

{
  "instance_key": "abc123def456",
  "phone": "1234567890@s.whatsapp.net",
  "latitude": -23.5505,
  "longitude": -46.6333
}

###

### 27. Send text to LID contact via Node.js proxy
POST http://localhost:5555/message/send
Content-Type: application/json

{
  "instance_key": "a7303c48718185883626ec88a92606ae",
  "phone": "85263741124677@lid",
  "message": "Hello LID contact via Node.js proxy! ðŸ”—"
}

###

### ========================================
### WEBHOOK TESTING
### ========================================

### 28. Test webhook functionality
POST http://localhost:5555/webhook
Content-Type: application/json

{
  "event": "test_message",
  "instance": "abc123def456",
  "timestamp": "2024-01-01T12:00:00Z",
  "data": {
    "from": "1234567890@s.whatsapp.net",
    "message": "Test webhook message",
    "type": "text"
  }
}

###

### 29. Test incoming message webhook
POST http://localhost:5555/webhook
Content-Type: application/json

{
  "event": "message",
  "instance": "abc123def456",
  "timestamp": "2024-01-01T12:00:00Z",
  "data": {
    "from": "1234567890@s.whatsapp.net",
    "message": "hello",
    "type": "text"
  }
}

###

### 30. Test image message webhook
POST http://localhost:5555/webhook
Content-Type: application/json

{
  "event": "message",
  "instance": "abc123def456",
  "timestamp": "2024-01-01T12:00:00Z",
  "data": {
    "from": "1234567890@s.whatsapp.net",
    "message": "https://example.com/image.jpg",
    "type": "image"
  }
}

###

### ========================================
### NODE.JS PROXY MANAGEMENT
### ========================================

### 31. Get scan instructions from Node.js
GET http://localhost:5555/scan

###

### 32. List instances via Node.js proxy
GET http://localhost:5555/instances

###

### 33. Create instance via Node.js proxy
POST http://localhost:5555/instance/create
Content-Type: application/json

###

### 34. Connect instance via Node.js proxy
POST http://localhost:5555/instance/connect
Content-Type: application/json

{
  "instance_key": "abc123def456"
}

###

### 35. Get QR code via Node.js proxy (replace {instanceKey})
GET http://localhost:5555/instance/abc123def456/qr

###

### 36. Check status via Node.js proxy (replace {instanceKey})
GET http://localhost:5555/instance/abc123def456/status

###

### ========================================
### ERROR TESTING
### ========================================

### 37. Test invalid instance key
POST http://localhost:4444/message/send
Content-Type: application/json

{
  "instance_key": "invalid_key",
  "phone": "1234567890@s.whatsapp.net",
  "message": "This should fail"
}

###

### 38. Test invalid phone number format
POST http://localhost:4444/message/send
Content-Type: application/json

{
  "instance_key": "abc123def456",
  "phone": "1234567890",
  "message": "This should fail due to invalid phone format"
}

###

### 39. Test missing required fields
POST http://localhost:4444/message/send
Content-Type: application/json

{
  "instance_key": "abc123def456"
}

###

### 40. Test invalid media type
POST http://localhost:4444/message/send-media
Content-Type: application/json

{
  "instance_key": "abc123def456",
  "phone": "1234567890@s.whatsapp.net",
  "url": "https://example.com/file.txt",
  "type": "invalid_type"
}

###

### 41. Test invalid media URL
POST http://localhost:4444/message/send-media
Content-Type: application/json

{
  "instance_key": "abc123def456",
  "phone": "1234567890@s.whatsapp.net",
  "url": "https://invalid-url-that-does-not-exist.com/image.jpg",
  "type": "image"
}

###

### ========================================
### GROUP MESSAGES
### ========================================

### 42. Send message to group (replace with actual group ID)
POST http://localhost:4444/message/send
Content-Type: application/json

{
  "instance_key": "abc123def456",
  "phone": "1234567890-1234567890@g.us",
  "message": "Hello group! ðŸ‘¥"
}

###

### 43. Send media to group
POST http://localhost:4444/message/send-media
Content-Type: application/json

{
  "instance_key": "abc123def456",
  "phone": "1234567890-1234567890@g.us",
  "url": "https://picsum.photos/400/300",
  "type": "image",
  "caption": "Group image! ðŸ“¸"
}

###

### ========================================
### BULK MESSAGES (Multiple recipients)
### ========================================

### 44. Send to multiple individual numbers
POST http://localhost:4444/message/send
Content-Type: application/json

{
  "instance_key": "abc123def456",
  "phone": "1234567890@s.whatsapp.net",
  "message": "Bulk message test"
}

###

### 45. Send media to multiple recipients
POST http://localhost:4444/message/send-media
Content-Type: application/json

{
  "instance_key": "abc123def456",
  "phone": "1234567890@s.whatsapp.net",
  "url": "https://picsum.photos/400/300",
  "type": "image",
  "caption": "Bulk media message"
}

###

### ========================================
### REPLY MESSAGES
### ========================================

### 46. Reply to a specific message
POST http://localhost:4444/message/send
Content-Type: application/json

{
  "instance_key": "abc123def456",
  "phone": "1234567890@s.whatsapp.net",
  "message": "This is a reply to your message",
  "reply_to": "3EB0C767D82B3C2E"
}

###

### 47. Reply with media
POST http://localhost:4444/message/send-media
Content-Type: application/json

{
  "instance_key": "abc123def456",
  "phone": "1234567890@s.whatsapp.net",
  "url": "https://picsum.photos/400/300",
  "type": "image",
  "caption": "Reply with image",
  "reply_to": "3EB0C767D82B3C2E"
}

###

### ========================================
### HEALTH CHECKS
### ========================================

### 48. Check if Go service is running
GET http://localhost:4444/instances

###

### 49. Check if Node.js service is running
GET http://localhost:5555/scan

###

### ========================================
### VARIABLES FOR TESTING
### ========================================

@instance_key = abc123def456
@phone_number = 1234567890@s.whatsapp.net
@group_id = 1234567890-1234567890@g.us
@test_image = https://picsum.photos/400/300
@test_audio = https://www.soundjay.com/misc/sounds/bell-ringing-05.wav
@test_video = https://sample-videos.com/zip/10/mp4/SampleVideo_1280x720_1mb.mp4
@test_document = https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf
@test_contact_name = John Doe
@test_contact_phone = 5551234567@s.whatsapp.net
@test_voice_url = https://example.com/voice.ogg

### ========================================
### USING VARIABLES
### ========================================

### 50. Send text using variables
POST http://localhost:4444/message/send
Content-Type: application/json

{
  "instance_key": "{{instance_key}}",
  "phone": "{{phone_number}}",
  "message": "Message using variables! ðŸŽ¯"
}

###

### 51. Send image using variables
POST http://localhost:4444/message/send-media
Content-Type: application/json

{
  "instance_key": "{{instance_key}}",
  "phone": "{{phone_number}}",
  "url": "{{test_image}}",
  "type": "image",
  "caption": "Image using variables! ðŸ“¸"
}

###

### 52. Send contact using variables
POST http://localhost:4444/message/send-contact
Content-Type: application/json

{
  "instance_key": "{{instance_key}}",
  "phone": "{{phone_number}}",
  "contact_name": "{{test_contact_name}}",
  "contact_phone": "{{test_contact_phone}}"
}

###

### 53. Send voice recording using variables
POST http://localhost:4444/message/send-voice
Content-Type: application/json

{
  "instance_key": "{{instance_key}}",
  "phone": "{{phone_number}}",
  "url": "{{test_voice_url}}"
}

###

### 54. Send location using variables
POST http://localhost:4444/message/send-location
Content-Type: application/json

{
  "instance_key": "{{instance_key}}",
  "phone": "{{phone_number}}",
  "latitude": -23.5505,
  "longitude": -46.6333
}

###

### 55. Send text message to LID contact
POST http://localhost:4444/message/send
Content-Type: application/json

{
  "instance_key": "a7303c48718185883626ec88a92606ae",
  "phone": "85766302642309@lid",
  "message": "mensagem de lid"
}

###

### 56. Send media to LID contact
POST http://localhost:4444/message/send-media
Content-Type: application/json

{
  "instance_key": "bfc8baadb83578f7a427e0e4209d4d05",
  "phone": "1234567890@lid",
  "url": "https://picsum.photos/400/300",
  "type": "image",
  "caption": "Image for LID contact! ðŸ“¸"
}

###

### 57. Send contact to LID contact
POST http://localhost:4444/message/send-contact
Content-Type: application/json

{
  "instance_key": "bfc8baadb83578f7a427e0e4209d4d05",
  "phone": "1234567890@lid",
  "contact_name": "John Doe",
  "contact_phone": "9876543210@s.whatsapp.net"
}

###

### ========================================
### NOTES AND TIPS
### ========================================

### IMPORTANT NOTES:
### 1. Replace "abc123def456" with actual instance keys from your system
### 2. Replace "1234567890@s.whatsapp.net" with actual phone numbers
### 3. Phone numbers must include @s.whatsapp.net suffix
### 4. Group IDs must include @g.us suffix
### 5. LID contacts use @lid suffix (e.g., "1234567890@lid")
### 6. Media URLs must be publicly accessible
### 7. Instance must be connected before sending messages
### 8. QR code must be scanned before instance is usable

### SUPPORTED MEDIA TYPES:
### - image: JPG, PNG, GIF, etc.
### - audio: MP3, WAV, OGG, etc.
### - video: MP4, AVI, MOV, etc.
### - file: PDF, DOC, TXT, etc.

### ERROR CODES:
### - 400: Bad Request (invalid parameters)
### - 404: Instance not found
### - 500: Internal server error

### TESTING WORKFLOW:
### 1. Create instance (example 1)
### 2. Connect instance (example 2)
### 3. Get QR code (example 3)
### 4. Scan QR code with WhatsApp mobile app
### 5. Check status (example 4)
### 6. Send messages (examples 7-16)
### 7. Test webhooks (examples 17-19)
